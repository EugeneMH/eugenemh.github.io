{"version":3,"sources":["components/appHeader/AppHeader.js","components/spinner/Spinner.js","components/error/error.gif","components/error/Error.js","services/service.js","resources/img/mjolnir.png","components/randomChar/RandomChar.js","components/charList/CharList.js","components/skeleton/Skeleton.js","components/charInfo/CharInfo.js","components/errorBoundary/ErrorBoundary.js","resources/img/vision.png","components/app/App.js","index.js"],"names":["AppHeader","className","href","Spinner","id","Error","src","img","alt","style","margin","height","MarvelService","_apiBase","_apiKey","_baseOffset","getResource","url","a","fetch","res","ok","status","json","getAllCharacters","offset","data","results","map","_transformCharacter","getCharacter","char","charDescription","description","length","slice","comics","items","name","thumbnail","path","extension","homepage","urls","wiki","RandomChar","state","loading","error","marvelService","onCharLoaded","setState","onError","getRandomCharacter","Math","floor","random","then","catch","this","spinner","errorImg","block","onClick","mjolnir","Component","RandomCharBlock","imgStyle","CharList","chars","loadingNewChars","charsCapReached","bottomReached","service","newCharsOnScroll","requestCharacters","checkIfBottom","window","scrollY","document","documentElement","clientHeight","body","scrollHeight","onLoading","onFinishedLoading","newCharacters","ended","refsItems","setRef","elem","push","focusOnItem","i","forEach","item","classList","remove","add","focus","addEventListener","removeEventListener","blocks","imgStyles","tabIndex","ref","props","onSelectChar","onKeyPress","e","key","errorBlock","content","createContent","disabled","Skeleton","CharInfo","createCharacter","prevProps","skeleton","errorMessage","Content","ErrorBoundary","errorInfo","console","log","children","App","charSelectedId","decoration","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.7c309347.chunk.js","sourcesContent":["import './appHeader.scss';\n\nconst AppHeader = () => {\n    return (\n        <header className=\"app__header\">\n            <h1 className=\"app__title\">\n                <a href=\"#\">\n                    <span>Marvel</span> information portal\n                </a>\n            </h1>\n            <nav className=\"app__menu\">\n                <ul>\n                    <li><a href=\"#\">Characters</a></li>\n                    /\n                    <li><a href=\"#\">Comics</a></li>\n                </ul>\n            </nav>\n        </header>\n    )\n}\n\nexport default AppHeader;","import './Spinner.css';\n\nconst Spinner = () => {\n    return (\n        <div id=\"circularG\">\n            <div id=\"circularG_1\" className=\"circularG\"></div>\n            <div id=\"circularG_2\" className=\"circularG\"></div>\n            <div id=\"circularG_3\" className=\"circularG\"></div>\n            <div id=\"circularG_4\" className=\"circularG\"></div>\n            <div id=\"circularG_5\" className=\"circularG\"></div>\n            <div id=\"circularG_6\" className=\"circularG\"></div>\n            <div id=\"circularG_7\" className=\"circularG\"></div>\n            <div id=\"circularG_8\" className=\"circularG\"></div>\n        </div>\n    )\n}\n\nexport default Spinner;","export default __webpack_public_path__ + \"static/media/error.42292aa1.gif\";","import img from './error.gif';\n\nconst Error = () => {\n    return (\n        <img src={img} alt=\"Error\" style={{margin:' 0 auto', height:'250px'}}/>\n    )\n}\n\nexport default Error;","\n\nclass MarvelService {\n    _apiBase = 'https://gateway.marvel.com:443/v1/public/';\n    _apiKey = 'apikey=ee5953dc31f3d6f456feeaafb26f8003';\n    _baseOffset = 180;\n\n    getResource = async (url) => {\n        let res = await fetch(url);\n\n        if (!res.ok) throw new Error(`Could not fetch${url}, status ${res.status}`);\n\n        return await res.json();\n    }\n\n    getAllCharacters = async (offset = this._baseOffset) => {\n        const res = await this.getResource(`${this._apiBase}characters?limit=9&offset=${offset}&${this._apiKey}`)\n        return res.data.results.map(this._transformCharacter);\n    }\n\n    getCharacter = async (id) => {\n        const res = await this.getResource(`${this._apiBase}/characters/${id}?${this._apiKey}`);\n        return this._transformCharacter(res.data.results[0]);\n    }\n\n    _transformCharacter = (char) => {\n\n        let charDescription = char.description ? char.description : \"Unfortunately, we can't find the description of this character\"; \n\n        if (charDescription.length >= 200) {\n            charDescription = charDescription.slice(0, 200) + '...';\n        }\n\n        return {\n            comics: char.comics.items,\n            id: char.id,\n            name: char.name,\n            description: charDescription,\n            thumbnail: char.thumbnail.path + '.' + char.thumbnail.extension,\n            homepage: char.urls[0].url,\n            wiki: char.urls[1].url\n        }\n    }\n\n}\n\nexport default MarvelService;","export default __webpack_public_path__ + \"static/media/mjolnir.61f31e18.png\";","import {Component} from 'react';\nimport Spinner from '../spinner/Spinner';\nimport Error from '../error/Error';\nimport MarvelService from '../../services/service';\n\nimport './randomChar.scss';\n\nimport mjolnir from '../../resources/img/mjolnir.png';\n\nclass RandomChar extends Component {\n    state = {\n        char: {},\n        loading: true,\n        error: false\n    }\n\n    componentDidMount() {\n        this.getRandomCharacter();\n    }\n\n    marvelService = new MarvelService();\n\n    onCharLoaded = (char) => {\n        this.setState({\n            char : char,\n            loading : false\n        })\n    }\n\n    onError = () => {\n        this.setState({\n            error : true,\n            loading: false\n        })\n    }\n\n    getRandomCharacter = () => {\n        this.setState({\n            loading: true\n        })\n        const id = Math.floor(Math.random() * (1011400 - 1011000) + 1011000);\n        this.marvelService.getCharacter(id)\n            .then(res => {this.onCharLoaded(res)})\n            .catch(this.onError)\n    }\n\n    render() {\n\n        const {char, loading, error} = this.state;\n\n        const spinner = loading ? <Spinner/> : null;\n        const errorImg = error ? <Error/> : null; \n        const block = !(loading || error) ? <RandomCharBlock char={char}/> : null;\n\n        return (\n            <div className=\"randomchar\">\n                {spinner}\n                {errorImg}\n                {block}\n                <div className=\"randomchar__static\">\n                    <p className=\"randomchar__title\">\n                        Random character for today!<br/>\n                        Do you want to get to know him better?\n                    </p>\n                    <p className=\"randomchar__title\">\n                        Or choose another one\n                    </p>\n                    <button className=\"button button__main\">\n                        <div className=\"inner\" onClick={this.getRandomCharacter}>try it</div>\n                    </button>\n                    <img src={mjolnir} alt=\"mjolnir\" className=\"randomchar__decoration\"/>\n                </div>\n            </div>\n        )\n    }\n}\n\nconst RandomCharBlock = ({char}) => {\n    const {name, description, thumbnail, homepage, wiki} = char;\n\n    let imgStyle = {'objectFit':'cover'};\n\n    if (thumbnail === 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg') {\n        imgStyle = {'objectFit':'contain'}\n    }\n\n    return (\n\n        <div className=\"randomchar__block\">\n        <img src={thumbnail} alt=\"Random character\" className=\"randomchar__img\" style={imgStyle}/>\n            <div className=\"randomchar__info\">\n                <p className=\"randomchar__name\">{name}</p>\n                <p className=\"randomchar__descr\">\n                    {description}\n                </p>\n                <div className=\"randomchar__btns\">\n                    <a href={homepage} className=\"button button__main\">\n                        <div className=\"inner\">homepage</div>\n                    </a>\n                    <a  href={wiki} className=\"button button__secondary\">\n                        <div className=\"inner\">Wiki</div>\n                    </a>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default RandomChar;","import React, {Component} from 'react';\nimport MarvelService from '../../services/service';\n\nimport Spinner from '../spinner/Spinner';\nimport Error from '../error/Error';\n\nimport './charList.scss';\n\nimport PropTypes from 'prop-types';\n\nclass CharList extends Component {\n    state = {\n        chars : [],\n        loading: true,\n        error: false,\n        offset: 180,\n        loadingNewChars: false,\n        charsCapReached: false,\n        bottomReached: false,\n    }\n    //this module was initially created with an intention to add pagination - on click of the button, the list of the character had to be expanded.\n    //but in order to have some more practice I added pagination on scroll, so now it has both listeners\n\n    service = new MarvelService();\n\n    componentDidMount() {\n        this.requestCharacters();\n        window.addEventListener('scroll', this.checkIfBottom)\n        window.addEventListener('scroll', this.newCharsOnScroll);\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('scroll', this.newCharsOnScroll);\n        window.removeEventListener('scroll', this.newCharsOnScroll);\n    }\n\n    newCharsOnScroll = () => {\n        const {bottomReached, loadingNewChars, charsCapReached} = this.state;\n\n        if (bottomReached && !loadingNewChars && !charsCapReached) {\n            this.requestCharacters(this.state.offset);\n        }\n    }\n\n    checkIfBottom = () => {\n        if (window.scrollY + document.documentElement.clientHeight >= document.body.scrollHeight) {\n            this.setState({\n                bottomReached: true\n            })\n        }\n    }\n\n    requestCharacters(offset) {\n        this.onLoading();\n        this.service.getAllCharacters(offset)\n            .then(res => this.onFinishedLoading(res))\n            .catch(this.onError)\n    }\n\n    onLoading = () => {\n        this.setState({\n            loadingNewChars: true\n        })\n    }\n\n    onFinishedLoading = (newCharacters) => {\n\n        let ended = false;\n        if (newCharacters.length < 9) ended = true;\n\n        this.setState(({chars, offset}) => ({\n            chars: [...chars, ...newCharacters],\n            loading: false,\n            offset : offset + 9,\n            loadingNewChars: false,\n            charsCapReached: ended,\n            bottomReached: false\n        }))\n    }\n\n    onError = () => {\n        this.setState({\n            error: true,\n            loading: false\n        })\n    }\n\n\n    refsItems = [];\n    \n    setRef = (elem) => {\n        this.refsItems.push(elem);\n    };\n\n    focusOnItem = (i) => {\n       this.refsItems.forEach(item => {\n           item.classList.remove('char__item_selected');\n       })\n       this.refsItems[i].classList.add('char__item_selected');\n       this.refsItems[i].focus();\n    }\n\n    createContent() {\n        const blocks = this.state.chars.map((item, i) => {\n\n            let imgStyles = {'objectFit':'cover'};\n\n            if (item.thumbnail === 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg' ) {\n                imgStyles = {'objectFit':'unset'}\n            }\n\n            return (\n                <li className=\"char__item\" \n                tabIndex={0}\n                key={item.id}\n                ref={this.setRef}\n                onClick={() => {\n                    this.props.onSelectChar(item.id);\n                    this.focusOnItem(i)\n                    }}\n                onKeyPress={(e) => {\n                    if (e.key === ' ' || e.key === 'Enter') {\n                        this.props.onSelectChar(item.id);\n                        this.focusOnItem(i);\n                    }\n                }}>\n                    <img src={item.thumbnail} alt={item.name} style={imgStyles}/>\n                    <div className=\"char__name\">{item.name}</div>\n                </li>\n            )\n        })\n\n        return (\n            <ul className=\"char__grid\" >\n                {blocks}\n            </ul>\n        )\n    }\n\n    render() {\n\n        const {loading, error, offset, loadingNewChars, charsCapReached} = this.state\n\n        const spinner = loading ? <Spinner/> : null;\n        const errorBlock = error ? <Error/> : null;\n        const content = !(loading || error) ? this.createContent() : null;\n\n        return (\n            <div className=\"char__list\">\n                {spinner}\n                {errorBlock}\n                {content}\n                <button className=\"button button__main button__long\"\n                        onClick={() => this.requestCharacters(offset)}\n                        disabled={loadingNewChars}\n                        style={{'display' : charsCapReached ? 'none' : 'block'}}\n                        tabIndex={0}>\n                    <div className=\"inner\">load more</div>\n                </button>\n            </div>\n        )\n    }\n}\n\nCharList.propTypes = {\n    onSelectChar: PropTypes.func.isRequired\n}\n\nexport default CharList;","import './skeleton.scss';\n\nconst Skeleton = () => {\n    return (\n        <>\n            <p className=\"char__select\">Please select a character to see information</p>\n            <div className=\"skeleton\">\n                <div className=\"pulse skeleton__header\">\n                    <div className=\"pulse skeleton__circle\"></div>\n                    <div className=\"pulse skeleton__mini\"></div>\n                </div>\n                <div className=\"pulse skeleton__block\"></div>\n                <div className=\"pulse skeleton__block\"></div>\n                <div className=\"pulse skeleton__block\"></div>\n            </div>\n        </>\n    )\n}\n\nexport default Skeleton;","import {Component} from 'react';\nimport MarvelService from '../../services/service';\n\nimport Skeleton from '../skeleton/Skeleton';\nimport Error from '../error/Error';\nimport Spinner from '../spinner/Spinner';\n\nimport './charInfo.scss';\n\nimport PropTypes from 'prop-types';\n\nclass CharInfo extends Component {\n    state = {\n        char: null,\n        loading: false,\n        error: false\n    }\n\n    service = new MarvelService();\n\n    componentDidMount() {\n        this.createCharacter();\n    }\n\n    componentDidUpdate(prevProps) {\n        if (this.props.id !== prevProps.id) {\n            this.createCharacter();\n        }\n    }\n    \n    createCharacter() {\n\n        const {id} = this.props;\n\n        if(!id) {\n            return;\n        }\n\n        this.onLoading();\n\n        this.service.getCharacter(id)   \n        .then(res => this.onFinishedLoading(res))\n        .catch(this.onError)\n    }\n\n    onFinishedLoading = (char) => {\n        this.setState({\n            loading:false,\n            char : char\n        })\n    }\n\n    onError = () => {\n        this.setState({\n            error: true,\n            loading: false\n        })\n    }\n\n    onLoading = () => {\n        this.setState({\n            loading: true\n        })\n    }\n\n    render() {\n        const {loading, char, error} = this.state;\n\n        const skeleton = !(loading || char || error) ? <Skeleton/> : null;\n        const errorMessage = error ? <Error/> : null;\n        const spinner = loading ? <Spinner/> : null;\n        const content = !(loading || error || !char) ? <Content char={this.state.char}/> : null\n\n        return (\n            <div className=\"char__info\">\n                {skeleton}\n                {content}\n                {errorMessage}\n                {spinner}\n            </div>\n        )\n    }\n}\n\nconst Content = ({char}) => {\n    \n    const {name, description, thumbnail, homepage, wiki, comics} = char;\n\n    let imgStyle = {'objectFit':'cover'};\n\n    if (thumbnail === 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg') {\n        imgStyle = {'objectFit':'contain'};\n    }\n    \n    return (\n        <>\n            <div className=\"char__basics\">\n                <img src={thumbnail} alt={name} style={imgStyle}/>\n                <div>\n                    <div className=\"char__info-name\">{name}</div>\n                    <div className=\"char__btns\">\n                        <a href={homepage} className=\"button button__main\">\n                            <div className=\"inner\">homepage</div>\n                        </a>\n                        <a href={wiki} className=\"button button__secondary\">\n                            <div className=\"inner\">Wiki</div>\n                        </a>\n                    </div>\n                </div>\n            </div>\n            <div className=\"char__descr\">\n                {description}\n            </div>\n\n            <div className=\"char__comics\">Comics:</div>\n            <ul className=\"char__comics-list\">\n                {comics.length > 0 ? null : \"Unfortunately, we can't find the comics for this character\"}\n                {comics.map( (item, i) => {                \n                    if (i < 10) {\n                        return (\n                            <li className=\"char__comics-item\" key={i}>\n                                {item.name}\n                            </li>\n                        )\n                    } else return null;\n                })}\n            </ul>\n        </>\n    )\n}\n\nCharInfo.propTypes = {\n    id: PropTypes.number\n}\n\nexport default CharInfo;","import {Component} from 'react';\nimport Error from '../error/Error';\n\nclass ErrorBoundary extends Component {\n    state = {\n        error:false\n    }\n\n    componentDidCatch(error, errorInfo) {\n        console.log(error, errorInfo);\n        this.setState({\n            error: true\n        })\n    }\n\n    render() {\n        if (this.state.error) {\n            return (\n                <Error/>\n            )\n        }\n        \n        return this.props.children;\n    }\n}\n\nexport default ErrorBoundary;","export default __webpack_public_path__ + \"static/media/vision.067d4ae1.png\";","import {Component} from 'react';\n\nimport AppHeader from \"../appHeader/AppHeader\";\nimport RandomChar from \"../randomChar/RandomChar\";\nimport CharList from \"../charList/CharList\";\nimport CharInfo from \"../charInfo/CharInfo\";\nimport ErrorBoundary from '../errorBoundary/ErrorBoundary'\n\nimport decoration from '../../resources/img/vision.png';\n\nclass App extends Component {\n    state = {\n        charSelectedId: null\n    }\n\n    onSelectChar = (id) => {\n        this.setState({\n            charSelectedId : id\n        })\n    }\n\n    render() {\n        return (\n            <div className=\"app\">\n                <AppHeader/>\n                <main>\n                    <ErrorBoundary>\n                        <RandomChar/>\n                    </ErrorBoundary>\n                    <div className=\"char__content\">\n                        <ErrorBoundary>\n                            <CharList onSelectChar={this.onSelectChar}/>\n                        </ErrorBoundary>\n                        <ErrorBoundary>\n                            <CharInfo id={this.state.charSelectedId}/>\n                        </ErrorBoundary>\n                    </div>\n                    <img className=\"bg-decoration\" src={decoration} alt=\"vision\"/>\n                </main>\n            </div>\n        )\n    }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/app/App';\n\nimport './style/style.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}